{"ast":null,"code":"var _jsxFileName = \"C:\\\\React-apps\\\\test-app\\\\test-app\\\\src\\\\components\\\\app\\\\app.js\";\nimport React, { Component } from 'react';\nimport { BrowserRouter as Router, Route, Redirect, Switch } from 'react-router-dom';\nimport AppHeader from '../header';\nimport TabControl from '../tab-control';\nimport Grid from '../grid';\nimport { connect } from 'react-redux';\nimport { withDataService } from '../hoc';\nimport { fetchData, onMove } from '../../actions';\nimport './app.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.onMoveLeft = ({\n      ids,\n      from\n    }) => {\n      const idx = this.keys().findIndex(item => item === from);\n      const to = this.keys()[idx - 1];\n      this.props.onMove({\n        ids,\n        from,\n        to\n      });\n    };\n\n    this.onMoveRight = ({\n      ids,\n      from\n    }) => {\n      const idx = this.keys().findIndex(item => item === from);\n      const to = this.keys()[idx + 1];\n      this.props.onMove({\n        ids,\n        from,\n        to\n      });\n    };\n\n    this.keys = () => Object.keys(this.props.data) || [];\n  }\n\n  componentDidMount() {\n    this.props.fetchData();\n  }\n\n  render() {\n    const data = this.props.data;\n    if (!data || data.length === 0) return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loadig...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 46\n    }, this);\n    const elements = this.keys().map((key, index) => {\n      return /*#__PURE__*/_jsxDEV(Grid, {\n        onMoveLeft: index === 0 ? null : this.onMoveLeft,\n        onMoveRight: index === this.keys().length - 1 ? null : this.onMoveRight,\n        items: data[key],\n        keyName: key\n      }, key, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this);\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(AppHeader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: elements\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Router, {\n        children: [/*#__PURE__*/_jsxDEV(Switch, {\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            path: \"/:name\",\n            render: ({\n              match: {\n                params: {\n                  name\n                }\n              }\n            }) => /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(TabControl, {\n                data: this.keys()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                onMoveLeft: this.onMoveLeft,\n                onMoveRight: this.onMoveRight,\n                items: data[name],\n                keyName: name\n              }, name, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Redirect, {\n            to: `/${this.keys()[0]}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: routes\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = ({ ...props\n}) => ({ ...props\n});\n\nconst mapDispatchtoProps = (dispatch, {\n  dataService\n}) => ({\n  fetchData: fetchData(dataService, dispatch),\n  onMove: props => dispatch(onMove(props))\n});\n\nexport default withDataService()(connect(mapStateToProps, mapDispatchtoProps)(App));","map":{"version":3,"sources":["C:/React-apps/test-app/test-app/src/components/app/app.js"],"names":["React","Component","BrowserRouter","Router","Route","Redirect","Switch","AppHeader","TabControl","Grid","connect","withDataService","fetchData","onMove","App","onMoveLeft","ids","from","idx","keys","findIndex","item","to","props","onMoveRight","Object","data","componentDidMount","render","length","elements","map","key","index","match","params","name","routes","mapStateToProps","mapDispatchtoProps","dispatch","dataService"],"mappings":"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","sourcesContent":["import React, { Component }               from 'react'\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  Redirect,\r\n  Switch\r\n}                                         from 'react-router-dom'\r\nimport AppHeader                          from '../header'\r\nimport TabControl                         from '../tab-control'\r\nimport Grid                               from '../grid'\r\nimport { connect }                        from 'react-redux'\r\nimport { withDataService }                from '../hoc'\r\nimport { fetchData, onMove }              from '../../actions'\r\nimport './app.css'\r\n\r\n\r\n\r\n class App extends Component {\r\n  componentDidMount() {\r\n    this.props.fetchData()\r\n  }\r\n    \r\n\r\n  \r\n  onMoveLeft = ({ids, from}) => {\r\n      const idx = this.keys().findIndex(item => item === from)\r\n      const to = this.keys()[idx-1]\r\n      this.props.onMove({ids, from, to})     \r\n  }\r\n\r\n  onMoveRight = ({ids, from}) => {\r\n    const idx = this.keys().findIndex(item => item === from)\r\n    const to = this.keys()[idx+1]\r\n    this.props.onMove({ids, from, to})     \r\n}\r\n    \r\n    \r\n    keys = () => (Object.keys(this.props.data) || [])\r\n    \r\n    render() {\r\n        const data = this.props.data\r\n        if(!data || data.length ===0) return <div>Loadig...</div>;\r\n        \r\n        const elements = this.keys().map((key, index) => {\r\n            return (\r\n                \r\n                <Grid \r\n                    onMoveLeft={index === 0 ? null : this.onMoveLeft}\r\n                    onMoveRight = {index === this.keys().length -1 ? null : this.onMoveRight}\r\n                    items= {data[key]}\r\n                    key={key}\r\n                    keyName = {key}\r\n                    />\r\n            )\r\n          })\r\n\r\n                  \r\n        return  (\r\n        <div>\r\n         <AppHeader/>\r\n          <div className=\"row\">{elements}</div>  \r\n          <Router>\r\n          <Switch>\r\n                <Route path=\"/:name\" render={({ match: { params: { name } } }) =>\r\n                    <div>\r\n                        <TabControl data={this.keys()}></TabControl>\r\n                        <Grid \r\n                          onMoveLeft={this.onMoveLeft}\r\n                          onMoveRight = {this.onMoveRight}\r\n                          items= {data[name]}\r\n                            key={name}\r\n                            keyName = {name}\r\n                        />\r\n                    </div>\r\n                }/>\r\n                <Redirect to={`/${this.keys()[0]}`} />\r\n            </Switch>\r\n            <div>\r\n                \r\n                <div className=\"row\">{routes}</div>\r\n            </div> \r\n          </Router>\r\n        </div>\r\n        )\r\n          \r\n      }\r\n}\r\n\r\nconst mapStateToProps = ({...props}) => ({...props})\r\nconst mapDispatchtoProps = (dispatch, { dataService }) =>  (\r\n    {\r\n        fetchData: fetchData(dataService, dispatch),\r\n        onMove: props => dispatch(onMove(props))\r\n    }\r\n)\r\n\r\nexport default withDataService()(\r\n  connect(mapStateToProps, mapDispatchtoProps)(App)\r\n  )"]},"metadata":{},"sourceType":"module"}