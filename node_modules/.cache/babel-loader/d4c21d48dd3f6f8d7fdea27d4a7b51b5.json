{"ast":null,"code":"const initialState = {\n  Left: [{\n    id: 0,\n    title: 'Left 0'\n  }, {\n    id: 1,\n    title: 'Left 1'\n  }, {\n    id: 2,\n    title: 'Left 2'\n  }],\n  Middle: [{\n    id: 3,\n    title: 'Middle 0'\n  }, {\n    id: 4,\n    title: 'Middle 1'\n  }, {\n    id: 5,\n    title: 'Middle 2'\n  }],\n  Right: [{\n    id: 6,\n    title: 'Right 0'\n  }, {\n    id: 7,\n    title: 'Right 1'\n  }, {\n    id: 8,\n    title: 'Right 2'\n  }],\n  aaa: [{\n    id: 13,\n    title: 'a 10'\n  }, {\n    id: 14,\n    title: 'a 11'\n  }, {\n    id: 15,\n    title: 'a 12'\n  }]\n};\n\nconst onMove = (state, payload) => {\n  const {\n    id,\n    from,\n    to\n  } = payload;\n  const idx = state[from].findIndex(item => item.id === id);\n  const currentItem = state[from][idx];\n  return {\n    [from]: [...state[from].slice(0, idx), ...state[from].slice(idx + 1)],\n    [to]: [...state[to], currentItem]\n  };\n};\n\nconst onMoveGroup = (state, payload) => {\n  const {\n    ids,\n    from,\n    to\n  } = payload;\n  if (ids.length === 0) return;\n  ids.map(id => this.onMove(state, {\n    id,\n    from,\n    to\n  }));\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case 'MOVE_ITEM':\n      return onMove(state, action.payload);\n\n    case \"MOVE_ITEM_GROUP\":\n      return onMoveGroup(state, action.payload);\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","map":{"version":3,"sources":["C:/React-apps/test-app/test-app/src/reducers/index.js"],"names":["initialState","Left","id","title","Middle","Right","aaa","onMove","state","payload","from","to","idx","findIndex","item","currentItem","slice","onMoveGroup","ids","length","map","reducer","action","type"],"mappings":"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","sourcesContent":["const initialState = {\r\n        Left: [\r\n            {id: 0, title: 'Left 0'},\r\n            {id: 1, title: 'Left 1'},\r\n            {id: 2, title: 'Left 2'},\r\n        ],\r\n        Middle: [\r\n            {id: 3, title: 'Middle 0'},\r\n            {id: 4, title: 'Middle 1'},\r\n            {id: 5, title: 'Middle 2'},\r\n        ],\r\n        \r\n        Right: [\r\n            {id: 6, title: 'Right 0'},\r\n            {id: 7, title: 'Right 1'},\r\n            {id: 8, title: 'Right 2'},\r\n        ],\r\n        aaa: [\r\n            {id: 13, title: 'a 10'},\r\n            {id: 14, title: 'a 11'},\r\n            {id: 15, title: 'a 12'},\r\n        ]\r\n    };\r\n    \r\n  \r\n    const onMove = (state, payload) => {\r\n            const {id, from, to } = payload\r\n            const idx = state[from].findIndex((item) => item.id === id)\r\n            const currentItem = state[from][idx]\r\n\r\n            return { \r\n              [from] :[\r\n                ...state[from].slice(0, idx),\r\n                ...state[from].slice(idx + 1)\r\n              ] , \r\n              [to]: [...state[to], currentItem]\r\n            }\r\n             \r\n    }\r\n\r\n  const   onMoveGroup = (state, payload) => {\r\n    const {ids, from, to } = payload\r\n      if(ids.length === 0) return  \r\n      ids.map((id)=> this.onMove(state,{id, from, to}))      \r\n  }\r\n\r\n  const reducer = (state = initialState, action) => {\r\n  \r\n    switch (action.type) {\r\n      case 'MOVE_ITEM':\r\n        return  onMove(state, action.payload)\r\n      case \"MOVE_ITEM_GROUP\":\r\n        return onMoveGroup(state, action.payload)\r\n      default:\r\n        return state;\r\n    }\r\n  };\r\n  \r\n  export default reducer;"]},"metadata":{},"sourceType":"module"}